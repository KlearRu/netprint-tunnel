var NP=window.NP||{};NP.app=function(){return this.$page=$(".b-page--js, .b-footer--js"),this.$sandwitchButton=$(".b-nav__aside-menu--js"),this.$pageShiftOverlay=$(".b-page__shift-overlay--js"),this.asideMenuVisible=!1,this.$aside=$(".l-aside--js"),this.$pageBody=$("html, body"),this.mode=!1,this.toggleAsideMenu=function(t){if(t&&t.preventDefault(),this.asideMenuVisible=!this.asideMenuVisible,this.$pageBody.toggleClass("shifted--js"),this.asideMenuVisible){var e=300;"mobile"==this.mode&&(e=40),this.$page.css({left:$(window).width()-e<e?e:$(window).width()-e+"px"}),this.$aside.animate({opacity:"1"})}else this.$page.css({left:0}),this.$aside.animate({opacity:"0.001"})},this.updateScreenMode=function(){var t=$(window).width();$("body").removeClass("responsive-"+this.mode);var e=this.mode;this.mode=t>960?"desktop":t>380?"tablet":"mobile",$("body").addClass("responsive-"+this.mode),this.mode!==e&&this.asideMenuVisible&&this.toggleAsideMenu()},this.$sandwitchButton.on("touchstart, click",$.proxy(this.toggleAsideMenu,this)),this.$pageShiftOverlay.on("touchstart, click",$.proxy(this.toggleAsideMenu,this)),$(window).on("resize",$.proxy(this.updateScreenMode,this)),this.updateScreenMode(),this},NP.tab=function(t){this.$tabsParent=$(t),this.mobileOnly=$(t).data("mobile"),this.showAll=$(t).data("showall"),this.mobileNav=$(t).data("mobilenav"),this.acceptorIsWrapper=$(t).data("acceptorwrapper"),"undefined"==typeof this.acceptorIsWrapper&&(this.acceptorIsWrapper=!0),this.mobileOnly&&("desktop"!==NP.app.mode?this.$tabsParent.show():this.$tabsParent.hide()),this.hideElements=function(){this.$tabsParent.find(".tab--js").each($.proxy(function(t,e){this.acceptorIsWrapper?$($(e).data("acceptor")).find(".tab--js").hide():$($(e).data("acceptor")).hide()},this)),this.$tabsParent.find(".tab--js").removeClass("current")},this.showElements=function(){this.$tabsParent.find(".tab--js").each($.proxy(function(t,e){this.acceptorIsWrapper?$($(e).data("acceptor")).find(".tab--js").show():$($(e).data("acceptor")).show()},this)),this.$tabsParent.find(".tab--js").removeClass("current")},$(t).find(".tab--js").on("touchstart, click",$.proxy(function(t){t.preventDefault(),this.hideElements(),$(t.currentTarget).addClass("current");var e=$(t.currentTarget).data("id");this.acceptorIsWrapper?$($(t.currentTarget).data("acceptor")).find(".tab--js").each(function(t,i){$(i).data("id")==e&&$(i).show()}):$($(t.currentTarget).data("acceptor")).each(function(t,i){$(i).data("id")==e&&$(i).show()}),this.mobileNav&&"mobile"==NP.app.mode&&(this.$tabsParent.hide(),$(this.$tabsParent.find(".tab--js").first().data("acceptor")).fadeIn(),$(this.$tabsParent.data("mobilenavtitle")).text($(t.currentTarget).find("i").text()),$(this.$tabsParent.data("mobilenavback")).show())},this)),this.lastHeight=$(window).height(),this.lastWidth=$(window).width(),$(window).on("resize",$.proxy(function(){(this.lastHeight!==$(window).height()||this.lastWidth!==$(window).width())&&(this.lastHeight=$(window).height(),this.lastWidth=$(window).width(),this.init())},this)),this.mobileNav&&$(this.$tabsParent.data("mobilenavback")).on("touchstart, click",$.proxy(function(){this.$tabsParent.fadeIn(),$(this.$tabsParent.find(".tab--js").first().data("acceptor")).hide(),$(this.$tabsParent.data("mobilenavtitle")).text($(this.$tabsParent.data("mobilenavtitle")).data("default")),$(this.$tabsParent.data("mobilenavback")).hide(),this.$tabsParent.find(".tab--js").removeClass("current")},this)),this.init=function(){this.mobileNav&&"mobile"==NP.app.mode?(this.$tabsParent.show(),$(this.$tabsParent.find(".tab--js").first().data("acceptor")).hide(),$(this.$tabsParent.data("mobilenavback")).hide()):($(this.$tabsParent.find(".tab--js").first().data("acceptor")).show(),this.mobileNav&&$(this.$tabsParent.data("mobilenavtitle")).text($(this.$tabsParent.data("mobilenavtitle")).data("default"))),this.showAll||(this.$tabsParent.find(".tab--js").first().trigger("click"),(this.$tabsParent.hasClass("b-no-mobile")||this.$tabsParent.hasClass("b-no-tablet"))&&"desktop"==this.mode&&this.$tabsParent.show(),this.mobileOnly&&"desktop"===NP.app.mode&&(this.showElements(),this.$tabsParent.hide()))},this.init()},NP.pointsViewAs=function(){$(".js-view-as").on("click",function(){$(".js-view-as").removeClass("current"),$(this).addClass("current");var t=$(this).data("as");$(".b-points__type").hide(),$(".b-points__type--"+t).show()})},NP.popup=function(t){this.$trigger=$(t),this.$popup=$($(t).data("popup")),this.$popupBg=$(".b-popup-bg"),this.hidePopup=function(t){t&&t.preventDefault(),this.$popup.fadeOut()},this.hideAll=function(t){t&&t.preventDefault(),this.hidePopup(),this.$popupBg.fadeOut(),$("body").removeClass("no-overflow"),$("body").css("height","100%")},this.showPopup=function(t){t.preventDefault(),$(".b-popup").fadeOut(),this.$popup.fadeIn(),this.$popupBg.fadeIn(),$("body").addClass("no-overflow"),"desktop"==NP.app.mode||"tablet"==NP.app.mode?$("body").css("height",$(window).height()):$("body").css("height",this.$popup.height()+"px")},this.$trigger.on("touchstart, click",$.proxy(this.showPopup,this)),this.$popup.find(".b-popup__close--js").on("touchstart, click",$.proxy(this.hideAll,this)),this.hidePopup()},NP.accordion=function(){this.calculateHeights=function(){$(".b-accordion__element--js").each(function(t,e){var i=$(e).closest(".b-accordion__element").find(".b-accordion__element__description--js");i.hide()})},$(".b-accordion__element--js").on("touchend, click",function(t){t.preventDefault();var e=$(this).closest(".b-accordion__element");e.toggleClass("opened").find(".b-accordion__element__description--js").slideToggle()}),$(window).on("resize",$.proxy(this.calculateHeights,this)),this.calculateHeights()},NP.checkbox=function(t){this.$checkboxWrap=$(t),this.$checkboxIcon=this.$checkboxWrap.find(".b-icon"),this.$checkboxInput=this.$checkboxWrap.find(".b-checkbox__input"),this.$checkboxCustom=this.$checkboxWrap.find(".b-checkbox__custom"),this.$checkboxWrap.on("touchend, click",$.proxy(function(){this.$checkboxInput.is(":checked")?(this.$checkboxInput.prop("checked",!1),this.$checkboxIcon.hide()):(this.$checkboxInput.prop("checked",!0),this.$checkboxIcon.show())},this)),this.$checkboxInput.addClass("hide"),this.$checkboxCustom.addClass("show"),this.$checkboxInput.is(":checked")?this.$checkboxIcon.show():this.$checkboxIcon.hide()},NP.photoGallery=function(){$(".fotorama").fotorama()},NP.slider=function(){$(".b-slider__items").slick({dots:!1,infinite:!0,arrows:!1,speed:600,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!1,arrows:!1}},{breakpoint:700,settings:{slidesToShow:2,slidesToScroll:2,dots:!1,arrows:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1}}]}),$(".b-slider__nav__item--prev--js").on("click",function(){$(".b-slider__items").slickPrev()}),$(".b-slider__nav__item--next--js").on("click",function(){$(".b-slider__items").slickNext()}),$(".b-slider__item").on("click",function(){var t=$(this).data("format");$(".b-sample__format").fadeOut(function(){$(this).css({backgroundImage:"url("+t+")"}),$(this).fadeIn()})})},NP.mobileNavSlider=function(){$(".b-type-selector-mobile").slick({dots:!1,infinite:!0,arrows:!1,speed:600,slidesToShow:1,slidesToScroll:1,onAfterChange:function(t,e){$(".b-type-content--js.tab--js").each(function(t,i){$(i).data("id")==e+1?$(i).show():$(i).hide()})}}),$(".b-type-selector-mobile__item__nav--prev--js").on("click",function(){$(".b-type-selector-mobile").slickPrev()}),$(".b-type-selector-mobile__item__nav--next--js").on("click",function(){$(".b-type-selector-mobile").slickNext()}),this.resize=function(){"desktop"==NP.app.mode?$(".b-type-selector-mobile").hide():$(".b-type-selector-mobile").show(),$(".b-type-selector-mobile").slickGoTo(0)},this.resize(),$(window).on("resize",$.proxy(this.resize,this))},NP.toggle=function(){$(".toggle--js").on("click",function(t){t.preventDefault(),$($(this).data("acceptor")).slideToggle();var e=$(this).text();$(this).text($(this).data("replace")),$(this).data("replace",e)})},$(function(){FastClick.attach(document.body),NP.app=NP.app(),$(".tabs--js").each($.proxy(function(t,e){new NP.tab(e)},this)),$(".b-checkbox--js").each($.proxy(function(t,e){new NP.checkbox(e)},this)),$(".popup-trigger--js").each($.proxy(function(t,e){new NP.popup(e)},this)),NP.mobileNavSlider(),NP.accordion(),NP.photoGallery(),NP.slider(),NP.toggle(),NP.pointsViewAs()});